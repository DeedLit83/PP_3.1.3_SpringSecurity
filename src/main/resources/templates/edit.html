<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Update User</title>
</head>
<body>
<table>
    <tr>
        <td>
            <form th:action="@{/logout}" method="POST">
                <input type="submit" value="Logout"/>
            </form>
        </td>
        <td><a th:href="@{/admin/view}"><button>Manage Users</button></a></td>
    </tr>
</table>
<form th:method="patch" th:action="@{/admin/view/{id}(id=${user.getId()})}" th:object="${user}">
    <table>
        <colgroup>
            <col span="1" style="background:Khaki">
            <col style="background-color:LightCyan">
        </colgroup>
        <tr>
            <td><label for="id">Id</label></td>
            <td><input readonly type="number" th:field="*{id}" id="id"/></td>
        </tr>
        <tr>
            <td><label for="login">Login</label></td>
            <td><input readonly type="text" th:field="*{login}" id="login"/></td>
        </tr>
        <tr>
            <td><label for="password">Password</label></td>
            <td><input type="password" th:field="*{password}" id="password" autocomplete="off"/></td>
            <td><div style="color:red" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</div></td>
        </tr>
        <tr>
            <td><label for="name">Name</label></td>
            <td><input type="text" th:field="*{name}" id="name"/></td>
            <td><div style="color:red" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</div></td>
        </tr>
        <tr>
            <td><label for="surName">Surname</label></td>
            <td><input type="text" th:field="*{surName}" id="surName"/></td>
            <td><div style="color:red" th:if="${#fields.hasErrors('surName')}" th:errors="*{surName}">Surname Error</div></td>
        </tr>
        <tr>
            <td><label for="age">Age </label></td>
            <td><input type="number" th:field="*{age}" id="age"/></td>
            <td><div style="color:red" th:if="${#fields.hasErrors('age')}" th:errors="*{age}">Age Error</div></td>
        </tr>
        <tr>
            <td><label for="email">Email</label></td>
            <td><input type="text" th:field="*{email}" id="email"/></td>
            <td><div style="color:red" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email Error</div></td>
        </tr>
        <tr>
            <td>Select multiple roles</td>
            <td>
                <select name="roleList" id="roleList" required="required" style="width: 100%" multiple>
                    <option th:each="option : ${options}" th:value="${option.getId()}" th:text="${option.getRoleName()}"></option>
                </select>
            </td>
        </tr>
    </table>
    <input type="submit" value="Update user">
</form>
</body>
</html>